# 푸드키오스크 앱

- 간단하게 주문하고 영수증까지 출력해보는 푸드키오스크 앱입니다.

- 카테고리에, 검색어에 따라 해당 결과에 맞는 식당을 찾아주고 메뉴까지 주문하면 영수증이 출력됩니다.!!

## 목적

- 테스트 코드 연습 및 클린코드를 위함

## 사용기술

- `React` `ExpressJS` `TypeScript` `StyledCompoent`

- `React Testing Library` `Jest` `CodeceptJS` `msw 2.x`

## 구현과정

- 전체적인 어플리케이션 구조에서 비즈니스 로직을 분리하고자 전역상태를 통한 방식으로 작업을 진행하였습니다.

- tsyringe를 활용하여 상태관리 Store를 만들고 reducer와 커스텀훅을 통하여 비즈니스 로직을 최대한 분리하고자 하였습니다.

- util 함수에 대한 테스트(jest), 컴포넌트별 단위 테스트 및 통합테스트(RTL with msw), E2E 테스트는 (CodeceptJS) 진행하였습니다.

## 배운점

- 리덕스의 flux패턴을 공부해보고자 Store와 Reducer 그리고 useDispatch useSelector 훅을 구현하여 진행하였습니다.

- 비즈니스 로직을 분리하다 보니 새로운 비즈니스로직이 생겼을때 새로운 reducer를 생성하고 그안에서 관리해야 하는점이 편했습니다.

- 컴포넌트 별 단위테스트를 진행하고 나아가 컴포넌트들이 가지는 기능들에 대한 통합테스트를 msw를 활용하여 진행하다 보니
  통합테스트상황에서 조합해야하는 것들에 대해 조금 더 통찰하는 눈이 생긴것 같습니다.

- 전체적으로 코드의 양이 많아졌다는 느낌보다는 초기에 사전작업해야하는 부분이 많은거지 오히려 코드의 양은 줄어드는 편리한점이 있었습니다.

- 의미없는 테스트 코드들도 존재했다라고 생각하는데 조금더 테스트코드를 짜야되는 기준들에 대한 기준을 찾아야 할 것 같습니다.
  현재로서는 다이나믹한 UI요소, Util 함수, 다양하게 변화가 가능할 것 같은 컴포넌트정도가 있을 것 같습니다.

## 구현과정에서 생긴 이슈

- StyledComponent를 사용하다보니 RTL에서 render해주는 부분에서 useRender훅을 따로 만들어 StyledComponent를 테스트과정에서도 사용되게끔 만들었습니다.

- msw의 post 메서드가 노드환경에서 제대로 모킹되지 않는 이슈가 있었는데. 공식문서를 찾아보니 2.x를 사용하라고 되어 있어서 2.x를 사용하여 해결하였습니다.

- 생각외로 RTL에서 엘리먼트를 찾을때 한가지 메서드가 아닌 다양한 메서드를 통해 찾아내는것이 좋다라는 생각을 가지게 되었습니다. (한가지 메서드만 사용했을때 찾아지지 않는 요소들이 존재!! 특히 버튼)

- 생각외로 RTL에서 엘리먼트를 찾을때 한가지 메서드가 아닌 다양한 메서드를 통해 찾아내는것이 좋다라는 생각을 가지게 되었습니다. (한가지 메서드만 사용했을때 찾아지지 않는 요소들이 존재!! 특히 버튼)

## 서버 실행하기

```shell
=> 서버 관련 Install
cd express-app
npm install

=> 클라이언트 관련 Install
npm install

=> 실행
npm run server
npm run start

=> 컴포넌트 테스트
npm run test

=> E2E 테스트
npm run codeceptjs
```
